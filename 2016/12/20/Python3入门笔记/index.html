<!DOCTYPE html>
<html lang="zh-cn">
  <head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">

<meta name="theme-color" content="#f8f5ec">
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="Python3入门笔记"><meta name="keywords" content="笔记, Python, Ya"><link rel="alternate" href="/atom.xml" title="Ya"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.11.0">
<link rel="canonical" href="https://blog.chenyalun.com/2016/12/20/Python3入门笔记/">

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css">
<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.11.0">

<script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":"","latex":false};
</script>

    <title>Python3入门笔记 - Ya</title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Ya</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/archives/">
        <li class="mobile-menu-item">时间线
          </li>
      </a><a href="/tags/阅读/">
        <li class="mobile-menu-item">阅读
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Ya</a>
</div>

<nav class="site-navbar"><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            时间线
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/tags/阅读/">
            阅读
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><article class="post">
    <header class="post-header">
      <h1 class="post-title">Python3入门笔记
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2016-12-20
        </span></div>
    </header>

    <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#钩玄"><span class="toc-text">钩玄</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#实练"><span class="toc-text">实练</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-代码中有中文必须设置utf-8"><span class="toc-text">1.代码中有中文必须设置utf-8</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-导入模块"><span class="toc-text">2.导入模块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-区分文件是主动执行的，还是被调用执行的。"><span class="toc-text">3.区分文件是主动执行的，还是被调用执行的。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-使用print函数进行字符串格式化"><span class="toc-text">4.使用print函数进行字符串格式化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-输入"><span class="toc-text">5.输入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-数据类型"><span class="toc-text">5.数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-标识符"><span class="toc-text">6.标识符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-运算符"><span class="toc-text">7.运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-逻辑运算-and-or-not"><span class="toc-text">8.逻辑运算 and or not</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-多重判断-if-与-elif"><span class="toc-text">9.多重判断 if 与 elif</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-if嵌套"><span class="toc-text">10.if嵌套</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-while循环与循环嵌套"><span class="toc-text">11.while循环与循环嵌套</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-for循环-i从0开始-每次自增1"><span class="toc-text">12.for循环:i从0开始,每次自增1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13-定义函数-print1"><span class="toc-text">13.定义函数 print1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14-常用函数"><span class="toc-text">14.常用函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15-字符串"><span class="toc-text">15.字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16-字符串常见操作"><span class="toc-text">16.字符串常见操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17-列表"><span class="toc-text">17.列表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#18-统计字符个数"><span class="toc-text">18.统计字符个数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#19-字典"><span class="toc-text">19.字典</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#20-元组"><span class="toc-text">20.元组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-元组运算符"><span class="toc-text">21.元组运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-元组索引截取"><span class="toc-text">22.元组索引截取</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#23-多维元组"><span class="toc-text">23.多维元组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#24-函数"><span class="toc-text">24.函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#25-变量"><span class="toc-text">25.变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#26-递归函数"><span class="toc-text">26.递归函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#27-匿名函数"><span class="toc-text">27.匿名函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#28-位运算-直接操作二进制数"><span class="toc-text">28.位运算:直接操作二进制数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#29-数据类型转换"><span class="toc-text">29.数据类型转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#30-打开文件"><span class="toc-text">30.打开文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#31-文件操作"><span class="toc-text">31.文件操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#32-捕获异常"><span class="toc-text">32.捕获异常</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#33-类"><span class="toc-text">33.类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#34-继承"><span class="toc-text">34.继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#35-重写"><span class="toc-text">35.重写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#36-多态"><span class="toc-text">36.多态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#37-类属性"><span class="toc-text">37.类属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#38-类方法"><span class="toc-text">38.类方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#39-静态方法"><span class="toc-text">39.静态方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#40-爬取数据"><span class="toc-text">40.爬取数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#40-使用BeautifulSoup"><span class="toc-text">40.使用BeautifulSoup</span></a></li></ol></li></ol>
    </div>
  </div><div class="post-content"><blockquote>
<p>2017.1.11修改</p>
</blockquote>
<p align="center"> 人生苦短，我用Python。 </p>

<a id="more"></a>
<h1 id="钩玄"><a href="#钩玄" class="headerlink" title="钩玄"></a>钩玄</h1><ol>
<li>让Python打印出指定的文字，可以用<code>print()</code>函数，然后把希望打印的文字用单引号或者双引号括起来，但不能混用单引号和双引号。</li>
<li>在Python交互式命令行下，可以直接输入代码，然后执行，并立刻得到结果。用<code>exit()</code>退出交互模式。</li>
<li>直接输入Python进入交互模式，相当于启动了Python解释器，但是等待你一行一行地输入源代码，每输入一行就执行一行。直接运行<code>.py</code>文件相当于启动了Python解释器，然后一次性把<code>.py</code>文件的源代码给执行了，你是没有机会以交互的方式输入源代码的。</li>
<li><code>print()</code>函数也可以接受多个字符串，用逗号<code>,</code>隔开，就可以连成一串输出，会依次打印每个字符串，遇到逗号<code>,</code>会输出一个空格。</li>
<li>Python提供了一个<code>input(&quot;提示文本，可以为空&quot;)</code>函数，可以让用户输入字符串，并存放到一个变量里。</li>
<li><p>以<code>#</code>开头的语句是注释，Python程序是大小写敏感的。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/usr/bin/env python3</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 第一行注释是为了告诉Linux/OS X系统，这是一个Python可执行程序，Windows系统会忽略这个注释；</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 第二行注释是为了告诉Python解释器，按照UTF-8编码读取源代码，否则，你在源代码中写的中文输出可能会有乱码。</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>当语句以冒号<code>:</code>结尾时，缩进的语句视为代码块。Python使用缩进来组织代码块，请务必遵守约定俗成的习惯，坚持使用4个空格的缩进。在文本编辑器中，需要设置把Tab自动转换为4个空格，确保不混用Tab和空格。</p>
</li>
<li>一个布尔值只有<code>True</code>、<code>False</code>两种值。布尔值可以用<code>and</code>、<code>or</code>和<code>not</code>运算。</li>
<li>空值是Python里一个特殊的值，用<code>None</code>表示。<code>None</code>不能理解为0，因为0是有意义的，而<code>None</code>是一个特殊的空值。</li>
<li>在Python中，通常用全部大写的变量名表示常量，事实上仍然是一个变量，Python根本没有任何机制保证不会被改变。</li>
<li><code>/</code>除法计算结果是浮点数，即使是两个整数恰好整除，结果也是浮点数（称为地板除，两个整数的除法仍然是整数）。</li>
<li>Python的整数没有大小限制，而某些语言的整数根据其存储长度是有大小限制的，Python的浮点数也没有大小限制，但是超出一定范围就直接表示为<code>inf</code>（无限大）。</li>
<li><code>ASCII</code>编码是1个字节，而<code>Unicode</code>编码通常是2个字节。<code>UTF-8</code>编码把一个<code>Unicode</code>字符根据不同的数字大小编码成1-6个字节，常用的英文字母被编码成1个字节，汉字通常是3个字节，只有很生僻的字符才会被编码成4-6个字节。</li>
<li>在计算机内存中，统一使用<code>Unicode</code>编码，当需要保存到硬盘或者需要传输的时候，就转换为<code>UTF-8</code>编码。最新的Python 3版本中，字符串是以<code>Unicode</code>编码的，也就是说，Python的字符串支持多语言。</li>
<li>对于单个字符的编码，Python提供了<code>ord()</code>函数获取字符的整数表示，<code>chr()</code>函数把编码转换为对应的字符。</li>
<li>由于Python的字符串类型是<code>str</code>，在内存中以<code>Unicode</code>表示，一个字符对应若干个字节。如果要在网络上传输，或者保存到磁盘上，就需要把<code>str</code>变为以字节为单位的<code>bytes</code>。Python对<code>bytes</code>类型的数据用带<code>b</code>前缀的单引号或双引号表示<code>x = b&#39;ABC&#39;</code>。</li>
<li><code>bytes</code>的每个字符都只占用一个字节，以<code>Unicode</code>表示的<code>str</code>通过<code>encode()</code>方法可以编码为指定的<code>bytes</code>，<code>&#39;中文&#39;.encode(&#39;utf-8&#39;)</code>，含有中文的<code>str</code>无法用<code>ASCII</code>编码，因为中文编码的范围超过了ASCII编码的范围，Python会报错。</li>
<li>如果我们从网络或磁盘上读取了字节流，那么读到的数据就是<code>bytes</code>。要把<code>bytes</code>变为<code>str</code>，就需要用<code>decode()</code>方法。</li>
<li>计算<code>str</code>包含多少个字符，可以用<code>len()</code>函数，<code>len()</code>函数计算的是<code>str</code>的字符数，如果换成<code>bytes</code>，<code>len()</code>函数就计算字节数，<code>len(&#39;中文&#39;)</code>。</li>
<li>字符串里面的<code>%</code>是一个普通字符怎么办？这个时候就需要转义，用<code>%%</code>来表示一个<code>%</code>。</li>
</ol>
<h1 id="实练"><a href="#实练" class="headerlink" title="实练"></a>实练</h1><h4 id="1-代码中有中文必须设置utf-8"><a href="#1-代码中有中文必须设置utf-8" class="headerlink" title="1.代码中有中文必须设置utf-8"></a>1.代码中有中文必须设置utf-8</h4><p>单行注释，以<code>#</code>开头。多行注释使用3个单引号。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">coding=utf-8</span></span><br></pre></td></tr></table></figure></p>
<h4 id="2-导入模块"><a href="#2-导入模块" class="headerlink" title="2.导入模块"></a>2.导入模块</h4><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="built_in">time</span> #引入时间模块</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> calendar,os</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> urllib.request # 爬取数据</span><br><span class="line">from math <span class="keyword">import</span> <span class="built_in">sqrt</span> # 指定math模块中的<span class="built_in">sqrt</span>函数</span><br></pre></td></tr></table></figure>
<p>当导入一个模块，Python解析器对模块位置的搜索顺序是：</p>
<p>1.当前目录。<br>2.如果不在当前目录，Python则搜索在shell变量<code>PYTHONPATH</code>下的每个目录。<br>3.如果都找不到，Python会查看默认路径。UNIX下，默认路径一般为<code>/usr/local/lib/python/</code>。<br>4.模块搜索路径存储在system模块的<code>sys.path</code>变量中。变量里包含当前目录，PYTHONPATH和由安装过程决定的默认目录。</p>
<p>在Python中，每个Python文件都可以作为一个模块，模块的名字就是文件的名字。创建<code>text.py</code>文件，定义相关函数，<code>import text</code> 即可引用自己的模块。<br>注意：倘若在<code>text.py</code>中定义并执行相关函数，其他文件引用之后，并不会执行。函数代码，应该是单独执行<code>text.py</code>文件时才会执行。</p>
<figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> <span class="built_in">math</span> <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure>
<h4 id="3-区分文件是主动执行的，还是被调用执行的。"><a href="#3-区分文件是主动执行的，还是被调用执行的。" class="headerlink" title="3.区分文件是主动执行的，还是被调用执行的。"></a>3.区分文件是主动执行的，还是被调用执行的。</h4><p>根据<code>__name__</code>变量的结果能够判断出，是直接执行的Python脚本还是被引入执行的，从而能够有选择性的执行测试代码。如果当前文件是主动执行的，<code>__name__</code> 变量的值就是：<code>__main__</code>，<br>如果是被导入执行的，则是被导入的文件名。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"是直接执行的py脚本, 而非引入"</span>)</span><br></pre></td></tr></table></figure>
<h4 id="4-使用print函数进行字符串格式化"><a href="#4-使用print函数进行字符串格式化" class="headerlink" title="4.使用print函数进行字符串格式化"></a>4.使用print函数进行字符串格式化</h4><p>格式有：<code>%c</code>、<code>%s</code>、<code>%i</code>、<code>%d</code>、<code>%u</code>（无符号十进制整数）、<code>%o</code>、<code>%x</code>（十六进制小写）、<code>%X</code>（十六进制大写 ）、<code>%f</code>等。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">"hello world"</span>)</span></span></span><br><span class="line"><span class="selector-tag">a</span> = <span class="number">12</span></span><br><span class="line"><span class="selector-tag">b</span> = <span class="number">58</span></span><br><span class="line">c = <span class="string">"swe"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">"hello %s 这孩子 %s 啊啊啊 %s"</span>%(a,b,c)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">"sss"</span>,a)</span></span></span><br></pre></td></tr></table></figure>
<h4 id="5-输入"><a href="#5-输入" class="headerlink" title="5.输入"></a>5.输入</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">inputs = input(<span class="string">"请输入数字"</span>)</span><br><span class="line"><span class="builtin-name">print</span>(<span class="string">"您的数字是:%s"</span>%inputs)</span><br><span class="line"><span class="keyword">if</span> inputs == 12:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"哈哈哈哈"</span>)</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"嘻嘻嘻嘻"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> inputs != 12:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"哦哦哦哦"</span>)</span><br></pre></td></tr></table></figure>
<h4 id="5-数据类型"><a href="#5-数据类型" class="headerlink" title="5.数据类型"></a>5.数据类型</h4><p>在python中，只要定义了一个变量，而且它有数据，那么它的类型就已经确定了。可以使用<code>type(变量的名字)</code>来查看变量的类型，比如：<code>type(a)</code>。</p>
<p>常用的数据类型:</p>
<ul>
<li><code>Numbers</code>(包括<code>int long float complex</code>)</li>
<li>布尔 <code>True</code>/<code>False</code></li>
<li><code>String</code> </li>
<li><code>List</code></li>
<li><code>Tuple</code>(元组)</li>
<li><code>Dictionary</code><br>…</li>
</ul>
<h4 id="6-标识符"><a href="#6-标识符" class="headerlink" title="6.标识符"></a>6.标识符</h4><p>标识符由字符数字下划线组成，没有美元符号，且区分大小写。<br>命名规则：驼峰式或者下划线连接。</p>
<h4 id="7-运算符"><a href="#7-运算符" class="headerlink" title="7.运算符"></a>7.运算符</h4><ul>
<li><code>%</code>  取余，比如 <code>3%2</code>。</li>
<li><code>**</code> 幂，比如<code>3**2</code>表示3的2次方。</li>
<li><code>//</code> 取整除。</li>
<li><code>/</code>  正常除法，可有余数。</li>
</ul>
<h4 id="8-逻辑运算-and-or-not"><a href="#8-逻辑运算-and-or-not" class="headerlink" title="8.逻辑运算 and or not"></a>8.逻辑运算 and or not</h4><p><strong> 与</strong><br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="attr">inputs</span> == <span class="number">15</span> <span class="literal">and</span> <span class="attr">a</span> == <span class="number">12</span>:</span><br><span class="line">    print(<span class="string">"and"</span>)</span><br></pre></td></tr></table></figure></p>
<p><strong>或</strong><br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="attr">inputs</span> == <span class="number">15</span> <span class="literal">or</span> <span class="attr">b</span> == <span class="number">58</span>:</span><br><span class="line">    print(<span class="string">"or"</span>)</span><br></pre></td></tr></table></figure></p>
<p><strong>非</strong><br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> a == 12:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"not"</span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="9-多重判断-if-与-elif"><a href="#9-多重判断-if-与-elif" class="headerlink" title="9.多重判断 if 与 elif"></a>9.多重判断 if 与 elif</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">score = 99</span><br><span class="line"><span class="keyword">if</span> score &lt; 60:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"不及格"</span>)</span><br><span class="line">elif score &lt;80:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"良好"</span>)</span><br><span class="line">elif score &lt; 90:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"不错"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"优秀"</span>)</span><br></pre></td></tr></table></figure>
<h4 id="10-if嵌套"><a href="#10-if嵌套" class="headerlink" title="10.if嵌套"></a>10.if嵌套</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> = <span class="number">14</span></span><br><span class="line"><span class="keyword">if</span> <span class="selector-tag">a</span> &gt; <span class="number">12</span> and <span class="selector-tag">a</span> &lt; <span class="number">18</span>:</span><br><span class="line">    <span class="keyword">if</span> <span class="selector-tag">a</span> &gt; <span class="number">12</span>:</span><br><span class="line">        print(<span class="string">"a&gt;12"</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">"a&lt;18"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"a&lt;=12, a&gt;=18"</span>)</span><br></pre></td></tr></table></figure>
<h4 id="11-while循环与循环嵌套"><a href="#11-while循环与循环嵌套" class="headerlink" title="11.while循环与循环嵌套"></a>11.while循环与循环嵌套</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">while <span class="selector-tag">a</span> == <span class="number">12</span>:</span><br><span class="line">    print(<span class="string">"你不好"</span>)</span><br><span class="line">    <span class="selector-tag">a</span> = <span class="number">13</span></span><br><span class="line">while <span class="selector-tag">b</span> == <span class="number">58</span>:</span><br><span class="line">    print(<span class="string">"哈哈哈哈"</span>)</span><br><span class="line">    <span class="selector-tag">b</span> = <span class="number">59</span></span><br></pre></td></tr></table></figure>
<h4 id="12-for循环-i从0开始-每次自增1"><a href="#12-for循环-i从0开始-每次自增1" class="headerlink" title="12.for循环:i从0开始,每次自增1"></a>12.for循环:i从0开始,每次自增1</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(12):</span><br><span class="line">    <span class="keyword">if</span> i == 5:</span><br><span class="line">        <span class="built_in">continue</span><span class="comment">#跳过i==5这次</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'i=%s'</span>%i)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> i == 10:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"停止break"</span>)</span><br><span class="line">    <span class="built_in">break</span></span><br></pre></td></tr></table></figure>
<h4 id="13-定义函数-print1"><a href="#13-定义函数-print1" class="headerlink" title="13.定义函数 print1"></a>13.定义函数 print1</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print1</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"函数"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#调用函数print1</span></span><br><span class="line">print1()</span><br></pre></td></tr></table></figure>
<h4 id="14-常用函数"><a href="#14-常用函数" class="headerlink" title="14.常用函数"></a>14.常用函数</h4><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#时间函数import time</span></span><br><span class="line">t = time.time()<span class="comment">#取出当前时间,以秒为单位的浮点小数</span></span><br><span class="line">t2 = time.localtime(t)<span class="comment">#取出本地时间</span></span><br><span class="line">t3 = time.asctime(t2) <span class="comment">#标准格式Fri Jun 10 10:58:53 2016</span></span><br><span class="line">print(t3)</span><br><span class="line"></span><br><span class="line"><span class="comment">#日历函数 import calendar</span></span><br><span class="line">cal = calendar.month(2016,8)</span><br><span class="line">print(cal) <span class="comment">#打印日历</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#随机数函数 import random</span></span><br><span class="line">r = random.randint(1,3)<span class="comment">#从1到3范围内的整数,包括1和3</span></span><br><span class="line">print(r)</span><br><span class="line"></span><br><span class="line">r2 = random.randrange(1,25,5)<span class="comment">#从1开始到25结束递增基数为5</span></span><br><span class="line">print(r2)</span><br><span class="line"></span><br><span class="line">r3 = random.uniform(1,5) <span class="comment">#最小值1最大值5,返回浮点数</span></span><br><span class="line">print(r3)</span><br><span class="line"></span><br><span class="line">random.random() <span class="comment">#生成0&lt;=n&lt;=1的浮点数</span></span><br></pre></td></tr></table></figure>
<h4 id="15-字符串"><a href="#15-字符串" class="headerlink" title="15.字符串"></a>15.字符串</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#相当于字符数组,可以通过下标取出字符,</span></span><br><span class="line">ss = <span class="string">"qwertyu"</span></span><br><span class="line"><span class="builtin-name">print</span>(ss[1])</span><br><span class="line"></span><br><span class="line"><span class="comment">#取出下标从1到3 的字符,包括上边界,不包括下边界</span></span><br><span class="line"><span class="builtin-name">print</span>(ss[1:3])</span><br><span class="line"></span><br><span class="line"><span class="comment">#从下标2开始 取到最后</span></span><br><span class="line"><span class="builtin-name">print</span>(ss[2:])</span><br><span class="line"></span><br><span class="line"><span class="comment">#从下标2开始到下标-2,不包括下标-2</span></span><br><span class="line"><span class="builtin-name">print</span>(ss[2:-2])</span><br><span class="line"></span><br><span class="line"><span class="comment">#取出最后4个字符</span></span><br><span class="line"><span class="builtin-name">print</span>(ss[-4:])</span><br></pre></td></tr></table></figure>
<h4 id="16-字符串常见操作"><a href="#16-字符串常见操作" class="headerlink" title="16.字符串常见操作"></a>16.字符串常见操作</h4><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">sub = <span class="string">"my"</span></span><br><span class="line">s = <span class="string">"itismyapple"</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#查找:检测sub是否在s中:s.find(sub, start=0, end=len(mystr))</span></span><br><span class="line"><span class="meta">#查找成功返回开始的索引,否则返回-1</span></span><br><span class="line">s.find(sub)</span><br><span class="line">re = s.find(sub,<span class="number">1</span>,<span class="number">8</span>)#从下标<span class="number">1</span>开始查找,到下标为<span class="number">8</span>结束</span><br><span class="line">print(re)</span><br><span class="line"></span><br><span class="line">s.index(sub)#与find相同,只不过没有找到会抛出异常</span><br><span class="line"></span><br><span class="line"><span class="meta">#返回 在start和end之间(包括) 在 s里面出现的次数</span></span><br><span class="line">c = s.count(<span class="string">"i"</span>, <span class="number">0</span>,<span class="number">8</span>)</span><br><span class="line">print(c)</span><br><span class="line"></span><br><span class="line"><span class="meta">#把 s 中的 str1 替换成 str2,如果 count 指定，则替换不超过 count 次.</span></span><br><span class="line">s.replace(<span class="string">"t"</span>,<span class="string">"d"</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">#以 " " 为分隔符切片 s，如果 maxsplit有指定值，则仅分隔 maxsplit 个子字符串</span></span><br><span class="line">s.split(<span class="string">" "</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">#把字符串的第一个字符大写</span></span><br><span class="line">s.capitalize()</span><br><span class="line"></span><br><span class="line"><span class="meta">#检查字符串是否是以 obj 开头, 是则返回 True，否则返回 False</span></span><br><span class="line">s.startswith(<span class="string">"i"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">#检查字符串是否以obj结束，如果是返回True,否则返回 False.</span></span><br><span class="line">s.endswith(<span class="string">"d"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">#转换 s 中所有大写字符为小写</span></span><br><span class="line">s.lower()</span><br><span class="line"></span><br><span class="line"><span class="meta">#转换 s 中的小写字母为大写</span></span><br><span class="line">s.upper()</span><br><span class="line"></span><br><span class="line"><span class="meta">#返回一个原字符串左对齐,并使用空格填充至长度 width 的新字符串</span></span><br><span class="line">s.ljust(<span class="number">5</span>) #返回 <span class="string">"itismyapple     "</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#返回一个原字符串右对齐,并使用空格填充至长度 width 的新字符串</span></span><br><span class="line">s.rjust(<span class="number">5</span>) #返回<span class="string">"     itismyapple"</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#返回一个原字符串居中,并使用空格填充至长度 width 的新字符串</span></span><br><span class="line"><span class="string">"s"</span>.center(<span class="number">10</span>) #<span class="string">"    s     "</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#删除 s 左边的空格</span></span><br><span class="line">s.lstrip()</span><br><span class="line"></span><br><span class="line"><span class="meta">#删除 s 字符串末尾的空格</span></span><br><span class="line">s.rstrip()</span><br><span class="line"></span><br><span class="line"><span class="meta">#类似于 find()函数，不过是从右边开始查找.</span></span><br><span class="line"><span class="string">"sieiess"</span>.rfind(<span class="string">"ie"</span>) #返回<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># 类似于 index()，不过是从右边开始.</span></span><br><span class="line">s.rindex(<span class="string">"s"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">#把"asdeeeads"以str分割成三部分,str前，str和str后</span></span><br><span class="line"><span class="string">"asdeeeads"</span>.partition(<span class="string">"eee"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">#类似于 partition()函数,不过是从右边开始.</span></span><br><span class="line"><span class="string">"asdeeeads"</span>.rpartition(<span class="string">"eee"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">#按照行分隔，返回一个包含各行作为元素的列表</span></span><br><span class="line"><span class="string">"asas\nds"</span>.splitlines()</span><br><span class="line"></span><br><span class="line"><span class="meta">#如果 mystr 所有字符都是字母或数字则返回 True,否则返回 False</span></span><br><span class="line"><span class="string">"ssd"</span>.isalnum()</span><br><span class="line"></span><br><span class="line"><span class="meta">#如果 mystr 所有字符都是字母 则返回 True,否则返回 False</span></span><br><span class="line"><span class="string">"ssd"</span>.isalpha()</span><br><span class="line"></span><br><span class="line"><span class="meta">#如果 mystr 只包含数字则返回 True 否则返回 False.</span></span><br><span class="line"><span class="string">"232"</span>.isdigit()</span><br><span class="line"></span><br><span class="line"><span class="meta">#如果 mystr 中只包含空格，则返回 True，否则返回 False.</span></span><br><span class="line"><span class="string">" "</span>.isspace()</span><br><span class="line"></span><br><span class="line"><span class="meta">#如果 mystr 所有字符都是大写，则返回 True，否则返回 False</span></span><br><span class="line"><span class="string">"sd"</span>.isupper()</span><br><span class="line"></span><br><span class="line"><span class="meta">#mystr 中每个字符后面插入str,构造出一个新的字符串</span></span><br><span class="line"><span class="string">"sasd"</span>.join(<span class="string">"s"</span>)</span><br></pre></td></tr></table></figure>
<h4 id="17-列表"><a href="#17-列表" class="headerlink" title="17.列表"></a>17.列表</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">A = [<span class="string">"ds3s"</span>,<span class="string">"ds4s"</span>,<span class="string">"a4sd"</span>]</span><br><span class="line"><span class="builtin-name">print</span>(A[0])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> A:</span><br><span class="line">    <span class="builtin-name">print</span>(a)#打印每一个元素</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表增加元素</span></span><br><span class="line">A.append(<span class="string">"asasdad"</span>)</span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> A:</span><br><span class="line">    <span class="builtin-name">print</span>(a)#打印每一个元素</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改</span></span><br><span class="line">A[0] = <span class="string">"1"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">"1"</span> <span class="keyword">in</span> A:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"1存在于a中"</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="string">"1"</span> <span class="keyword">not</span> <span class="keyword">in</span> A:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"1不存在与a中"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#del：根据下标进行删除</span></span><br><span class="line"><span class="comment">#pop：删除最后一个元素</span></span><br><span class="line"><span class="comment">#remove：根据元素的值进行删除</span></span><br><span class="line"></span><br><span class="line">del A[0]</span><br><span class="line">A.pop()</span><br><span class="line">A.<span class="builtin-name">remove</span>(<span class="string">"ds4s"</span>)</span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> A:</span><br><span class="line">    <span class="builtin-name">print</span>(a)#打印每一个元素</span><br></pre></td></tr></table></figure>
<h4 id="18-统计字符个数"><a href="#18-统计字符个数" class="headerlink" title="18.统计字符个数"></a>18.统计字符个数</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cstr = input(<span class="string">"请输入字符"</span>)</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">c</span> <span class="keyword">in</span> cstr:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"%c:%d"</span>%(<span class="built_in">c</span>,cstr.<span class="built_in">count</span>(<span class="built_in">c</span>)))</span><br></pre></td></tr></table></figure>
<h4 id="19-字典"><a href="#19-字典" class="headerlink" title="19.字典"></a>19.字典</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">info</span> = &#123;<span class="string">"name"</span>:<span class="string">"zhangsan"</span>,<span class="string">"age"</span>:12&#125;</span><br><span class="line"><span class="builtin-name">print</span>(<span class="builtin-name">info</span>[<span class="string">"name"</span>])</span><br><span class="line"><span class="comment">#增加键值对</span></span><br><span class="line"><span class="builtin-name">info</span>[<span class="string">"sex"</span>] = <span class="string">"man"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#删除元素</span></span><br><span class="line">del <span class="builtin-name">info</span>[<span class="string">"age"</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#清空字典</span></span><br><span class="line">info.clear()</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除整个字典</span></span><br><span class="line">del info</span><br><span class="line"><span class="comment">#注意删除字典和清空字典的区别</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#字典常用操作</span></span><br><span class="line">info2 = &#123;<span class="string">"name"</span>:<span class="string">"zhangsan"</span>,<span class="string">"age"</span>:12&#125;</span><br><span class="line"><span class="comment">#测量字典中，键值对的个数</span></span><br><span class="line">len(info2)</span><br><span class="line"></span><br><span class="line"><span class="comment">#返回一个包含字典所有KEY的列表</span></span><br><span class="line">info2.keys()</span><br><span class="line"></span><br><span class="line"><span class="comment">#返回一个包含字典所有value的列表</span></span><br><span class="line">info2.values()</span><br><span class="line"></span><br><span class="line"><span class="comment">#返回一个包含所有（键，值）元组的列表</span></span><br><span class="line">info2.items()</span><br><span class="line"></span><br><span class="line"><span class="comment">#if "name" in info2如果key在字典中，返回True，否则返回False</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">"name"</span> <span class="keyword">in</span> info2:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"存在"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#遍历键/值/键值对</span></span><br><span class="line"><span class="keyword">for</span> key,value <span class="keyword">in</span> info2.items():</span><br><span class="line">    <span class="builtin-name">print</span>(key,value)</span><br></pre></td></tr></table></figure>
<h4 id="20-元组"><a href="#20-元组" class="headerlink" title="20.元组"></a>20.元组</h4><p>Python的元组与列表类似，不同之处在于元组的元素不能修改。也可进行<strong>分片</strong>和<strong>连接</strong>操作。<br>元组使用小括号，列表使用方括号。</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">atuple = (<span class="string">"as"</span>,121,True,False,0)</span><br><span class="line">atuple2 = (<span class="string">"a"</span>,121,True,False,40)</span><br><span class="line">print(atuple[1])</span><br><span class="line"></span><br><span class="line"><span class="comment">#合成新元组</span></span><br><span class="line">atuple3 = atuple + atuple2</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除元素</span></span><br><span class="line"><span class="comment">#元组中的元素值是不允许删除的，但我们可以使用del语句来删除整个元组</span></span><br><span class="line">del atuple3</span><br></pre></td></tr></table></figure>
<h4 id="21-元组运算符"><a href="#21-元组运算符" class="headerlink" title="21.元组运算符"></a>21.元组运算符</h4><p>与字符串一样，元组之间可以使用 + 号和 * 号进行运算。<br>这就意味着他们可以组合和复制，运算后会生成一个新的元组。<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) + (<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line">['Hi!'] * <span class="number">4</span> #['Hi!', 'Hi!', 'Hi!', 'Hi!']</span><br><span class="line"><span class="number">3</span> in (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) #True</span><br></pre></td></tr></table></figure></p>
<h4 id="22-元组索引截取"><a href="#22-元组索引截取" class="headerlink" title="22.元组索引截取"></a>22.元组索引截取</h4><p>因为元组也是一个序列，所以我们可以访问元组中的指定位置的元素，也可以截取索引中的一段元素比较两个元组元素。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#cmp(tuple1, tuple2)</span><br><span class="line">tuple2 = (<span class="number">12</span>,<span class="number">234</span>,<span class="number">546</span>,<span class="number">56</span>)</span><br><span class="line">tuple2s = [<span class="number">12</span>,<span class="number">23</span>]</span><br><span class="line">#计算元组元素个数。</span><br><span class="line"><span class="function"><span class="title">len</span><span class="params">(tuple2)</span></span></span><br><span class="line">#返回元组中元素最大值。</span><br><span class="line"><span class="function"><span class="title">max</span><span class="params">(tuple2)</span></span></span><br><span class="line">#返回元组中元素最小值。</span><br><span class="line"><span class="function"><span class="title">min</span><span class="params">(tuple2)</span></span></span><br><span class="line">#将列表转换为元组。</span><br><span class="line"><span class="function"><span class="title">tuple</span><span class="params">(tuple2s)</span></span></span><br></pre></td></tr></table></figure></p>
<h4 id="23-多维元组"><a href="#23-多维元组" class="headerlink" title="23.多维元组"></a>23.多维元组</h4><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tuple3 = [(<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">4</span>),(<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>)]</span><br><span class="line">tuple3[<span class="number">1</span>] #(<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line">tuple3[<span class="number">1</span>][<span class="number">0</span>] #<span class="number">2</span></span><br></pre></td></tr></table></figure>
<h4 id="24-函数"><a href="#24-函数" class="headerlink" title="24.函数"></a>24.函数</h4><p><strong>带有参数和有返回值的函数</strong><br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def <span class="built_in">sum</span>(<span class="keyword">a</span>,b):</span><br><span class="line">    <span class="literal">return</span> <span class="keyword">a</span>+b</span><br><span class="line"></span><br><span class="line">print(<span class="built_in">sum</span>(<span class="number">45</span>,<span class="number">1</span>))</span><br></pre></td></tr></table></figure></p>
<p><strong>缺省函数</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum2</span><span class="params">(a,b = <span class="number">25</span>)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line">print(sum2(<span class="number">232</span>))</span><br><span class="line">print(sum2(<span class="number">232</span>,<span class="number">1</span>))</span><br></pre></td></tr></table></figure></p>
<p><strong>不定长参数</strong><br>加了星号（<code>*</code>）的变量名会存放所有未命名的变量参数。<br>参数以一个<code>*</code>号开头的代表着一个任意长度的元组(tuple)，可以接收连续一串参数。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printinfo</span><span class="params">(a,b,*cs)</span>:</span></span><br><span class="line">    print(a,b)</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> cs:</span><br><span class="line">        print(c)</span><br><span class="line">printinfo(<span class="number">23</span>,<span class="number">3</span>,<span class="number">34</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure></p>
<p><strong>函数的嵌套使用</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print3</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    print(a,b)</span><br><span class="line">    print(sum(a,b))</span><br><span class="line">print3(<span class="number">2</span>,<span class="number">23</span>)</span><br></pre></td></tr></table></figure></p>
<p><strong>打印指定条横线</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printline</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"-"</span>*<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printlinewithnum</span><span class="params">(a)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(a):</span><br><span class="line">        printline()</span><br><span class="line">        print(<span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">printlinewithnum(<span class="number">5</span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="25-变量"><a href="#25-变量" class="headerlink" title="25.变量"></a>25.变量</h4><p>局部变量，是在函数内部定义的变量。<br>全局变量，能在某一函数中使用，也能在其他函数中使用。<br>全局变量能够在所有的函数中进行访问。<br>如果在函数中修改全局变量，那么就需要使用global进行声明，否则出错。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gol = <span class="number">12</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chnum</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> gol <span class="comment">#声明此处的gol是特指全局变量,而非重名的局部变量</span></span><br><span class="line">    gol = <span class="number">13</span></span><br><span class="line">    print(gol)</span><br><span class="line">chnum()</span><br><span class="line">print(gol)</span><br></pre></td></tr></table></figure>
<h4 id="26-递归函数"><a href="#26-递归函数" class="headerlink" title="26.递归函数"></a>26.递归函数</h4><p><strong>示例:计算n的阶乘</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calnum</span><span class="params">(n)</span>:</span></span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    result = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= n:</span><br><span class="line">        result *= i</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">print(calnum(<span class="number">1</span>))</span><br><span class="line">print(calnum(<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calnum2</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n &gt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> n * calnum2(n<span class="number">-1</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">print(calnum2(<span class="number">1</span>))</span><br><span class="line">print(calnum2(<span class="number">0</span>))</span><br></pre></td></tr></table></figure></p>
<h4 id="27-匿名函数"><a href="#27-匿名函数" class="headerlink" title="27.匿名函数"></a>27.匿名函数</h4><p>用lambda关键词能创建小型匿名函数。<br>Lambda函数能接收任何数量的参数但只能返回一个表达式的值。<br>匿名函数不能直接调用print，因为lambda需要一个表达式。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sum4 = lambda <span class="selector-tag">a</span>,<span class="selector-tag">b</span>,c,d:<span class="selector-tag">a</span> + <span class="selector-tag">b</span> + c + d</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(sum4(<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>)</span></span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="28-位运算-直接操作二进制数"><a href="#28-位运算-直接操作二进制数" class="headerlink" title="28.位运算:直接操作二进制数"></a>28.位运算:直接操作二进制数</h4><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&amp; 按位与 只有对应的两个二进位均为<span class="number">1</span>时,结果位才为<span class="number">1</span></span><br><span class="line">| 按位或 只要对应的二个二进位有一个为<span class="number">1</span>时,结果位就为<span class="number">1</span>,否则为<span class="number">0</span></span><br><span class="line">^ 按位异或 不同为<span class="number">1</span> 当对应的二进位相异(不相同)时,结果为<span class="number">1</span>,否则为<span class="number">0</span></span><br><span class="line">~ 按位取反</span><br><span class="line">&lt;&lt; 按位左移:左移一位即乘以<span class="number">2</span>,可能改变一个数的正负</span><br><span class="line">&gt;&gt; 按位右移::右移一位即除以<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="number">0b1011</span> &amp; <span class="number">0b1001010110</span></span><br><span class="line"><span class="number">0b1000110</span> | <span class="number">0b10010</span></span><br><span class="line"><span class="number">0b11101</span> ^ <span class="number">0b110000011</span></span><br><span class="line">~<span class="number">132</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">12</span>&lt;&lt;<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">1024</span>&gt;&gt;<span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<p><strong>进制书写</strong><br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0o377</span> #八进制</span><br><span class="line"><span class="number">0xFF</span> #十六进制</span><br><span class="line"><span class="number">0b010010110</span> #二进制</span><br></pre></td></tr></table></figure></p>
<p><strong>进制转换</strong><br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">print</span><span class="params">(type(oct(<span class="number">25</span>)</span></span>)) #转八进制字符串</span><br><span class="line"><span class="function"><span class="title">hex</span><span class="params">(<span class="number">25</span>)</span></span> #转十六进制字符串</span><br><span class="line"><span class="function"><span class="title">bin</span><span class="params">(<span class="number">25</span>)</span></span> #转二进制字符串</span><br></pre></td></tr></table></figure></p>
<h4 id="29-数据类型转换"><a href="#29-数据类型转换" class="headerlink" title="29.数据类型转换"></a>29.数据类型转换</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">int</span><span class="params">(<span class="string">"123"</span>)</span></span> #字符串转数值</span><br><span class="line"><span class="function"><span class="title">float</span><span class="params">(<span class="string">"2324.3"</span>)</span></span> #将字符串转换为浮点数</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(complex(<span class="number">1.2</span>,<span class="number">3.2</span>)</span></span>) #创建一个复数,在 Python 中，复数的虚部被表示为 j</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="number">3.2</span>+<span class="number">1.4</span>j)</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str(<span class="number">23</span>)</span></span>) #将<span class="number">23</span>转换为字符串</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(repr(<span class="number">124</span>)</span></span>) #转换为表达式字符串</span><br><span class="line"><span class="function"><span class="title">tuple</span><span class="params">([<span class="number">23</span>,<span class="number">3</span>])</span></span></span><br><span class="line"><span class="function"><span class="title">list</span><span class="params">((<span class="number">23</span>,<span class="number">234</span>)</span></span>)</span><br><span class="line"><span class="function"><span class="title">chr</span><span class="params">(<span class="number">2</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">ord</span><span class="params">(<span class="string">"d"</span>)</span></span></span><br></pre></td></tr></table></figure>
<p><strong>实现乘法表</strong><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print6</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= <span class="number">9</span><span class="symbol">:</span></span><br><span class="line">        j = i</span><br><span class="line">        <span class="keyword">while</span> j &lt;= <span class="number">9</span><span class="symbol">:</span></span><br><span class="line">            print(<span class="string">"%d*%d=%d"</span><span class="string">%(i,j,i*j)</span>)</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">print6()</span><br></pre></td></tr></table></figure></p>
<h4 id="30-打开文件"><a href="#30-打开文件" class="headerlink" title="30.打开文件"></a>30.打开文件</h4><p>使用open函数，可以打开一个已经存在的文件，或者创建一个新文件。<code>open(文件名，访问模式)</code> 返回文件句柄。</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="keyword">open</span>(<span class="string">"s.txt"</span>,<span class="string">"w"</span>)</span><br><span class="line">f.<span class="built_in">close</span>()<span class="meta">#关闭文件</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>符号</th>
<th>释义</th>
</tr>
</thead>
<tbody>
<tr>
<td>r</td>
<td>以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。</td>
</tr>
<tr>
<td>w</td>
<td>打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>rb</td>
<td>以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。</td>
</tr>
<tr>
<td>wb</td>
<td>以二进制格式打开一个文件只用于写入。如果该文件已存在则将其覆盖。</td>
</tr>
<tr>
<td>ab</td>
<td>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。</td>
</tr>
<tr>
<td>r+</td>
<td>打开一个文件用于读写。文件指针将会放在文件的开头。</td>
</tr>
<tr>
<td>w+</td>
<td>打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>a+</td>
<td>打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。</td>
</tr>
<tr>
<td>a</td>
<td>打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。</td>
</tr>
<tr>
<td>rb+</td>
<td>以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。</td>
</tr>
<tr>
<td>wb+</td>
<td>以二进制格式打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>ab+</td>
<td>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。</td>
</tr>
</tbody>
</table>
<p><strong>写数据到文件</strong><br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">"s1"</span>,<span class="string">"w"</span>)</span><br><span class="line">f.<span class="built_in">write</span>(<span class="string">"hello world"</span>)</span><br><span class="line">f.<span class="built_in">close</span>()</span><br></pre></td></tr></table></figure></p>
<p><strong>读数据</strong><br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f = open(<span class="string">"s1"</span>)</span><br><span class="line">content = f.read(5) <span class="comment">#读取数据长度,字节为单位</span></span><br><span class="line">print(content)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure></p>
<p>readlines按照行的方式把整个文件中的内容进行一次性读取，返回的是一个列表，每一行的数据为一个<br>元素。<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f = open(<span class="string">"s"</span>)</span><br><span class="line">content2 = f.readlines()</span><br><span class="line">print(content2[2])</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure></p>
<p><strong>获取当前读写的位置</strong><br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">"222.txt"</span>, <span class="string">"r+"</span>)</span><br><span class="line">f.<span class="built_in">write</span>(<span class="string">"123243454566"</span>)</span><br><span class="line">str12 = f.<span class="built_in">read</span>(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"读取的数据是 : "</span>,str12)</span><br></pre></td></tr></table></figure></p>
<p><strong>查找当前位置</strong><br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">position</span> = f.tell()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"当前文件位置 : "</span>, <span class="built_in">position</span>)</span><br><span class="line">f.<span class="built_in">close</span>()</span><br></pre></td></tr></table></figure></p>
<p>如果在读写文件的过程中，需要从另外一个位置进行操作的话，可以使用<code>seek()</code>，<code>seek(offset, from)</code>有2个参数：</p>
<ul>
<li>offset:偏移量</li>
<li>from:方向<ul>
<li>0:表示文件开头</li>
<li>1:表示当前位置</li>
<li>2:表示文件末尾</li>
</ul>
</li>
</ul>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">"s"</span>, <span class="string">"r"</span>)</span><br><span class="line">str33 = f.<span class="built_in">read</span>(<span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"读取的数据是 : "</span>, str33)</span><br><span class="line"></span><br><span class="line"># 查找当前位置</span><br><span class="line"><span class="built_in">position</span> = f.tell()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"当前文件位置 : "</span>, <span class="built_in">position</span>)</span><br><span class="line"></span><br><span class="line"># 重新设置位置</span><br><span class="line">f.<span class="built_in">seek</span>(<span class="number">5</span>,<span class="number">0</span>)</span><br><span class="line">f.<span class="built_in">close</span>()</span><br></pre></td></tr></table></figure>
<h4 id="31-文件操作"><a href="#31-文件操作" class="headerlink" title="31.文件操作"></a>31.文件操作</h4><p>文件重命名<br>需要import os，os模块中的<code>rename()</code>可以完成对文件的重命名操作。<br><code>os.rename(&quot;s1&quot;,&quot;s111&quot;)</code></p>
<p>删除文件<br><code>os.remove(&quot;s111&quot;)</code></p>
<p>创建文件夹<br><code>os.mkdir(&quot;haha&quot;)</code></p>
<p>获取当前目录<br><code>print(os.getcwd())</code></p>
<p>改变默认目录<br><code>os.chdir(&quot;../&quot;)</code></p>
<p>获取目录中内容列表,返回数组<br><code>os.listdir(&quot;./&quot;)</code></p>
<p>删除文件夹<br><code>os.rmdir(&quot;haha&quot;)</code></p>
<p>判断是否是目录<br><code>os.path.isdir(&quot;./react&quot;)</code></p>
<p>判断是否是文件<br><code>os.path.isfile(&quot;./s&quot;)</code></p>
<h4 id="32-捕获异常"><a href="#32-捕获异常" class="headerlink" title="32.捕获异常"></a>32.捕获异常</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">try:</span><br><span class="line">    open(<span class="string">"ssss"</span>,<span class="string">"r"</span>)</span><br><span class="line"><span class="comment">#指定异常类型 定义异常变量</span></span><br><span class="line">except IOError as errmsg:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"捕获到异常"</span>,errmsg)</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"-"</span><span class="number">*10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#多个异常</span></span><br><span class="line">try:</span><br><span class="line">    open(<span class="string">"ssss"</span>,<span class="string">"r"</span>)</span><br><span class="line"><span class="comment">#指定异常类型 定义异常变量</span></span><br><span class="line">except (IOError,NameError) as errmsg:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"捕获到异常"</span>,errmsg)</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"-"</span><span class="number">*10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#不指定异常</span></span><br><span class="line">try:</span><br><span class="line">    open(<span class="string">"ssss"</span>,<span class="string">"r"</span>)</span><br><span class="line"><span class="comment">#指定异常类型 定义异常变量</span></span><br><span class="line">except :</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"捕获到异常"</span>)</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"-"</span><span class="number">*10</span>)</span><br></pre></td></tr></table></figure>
<p><strong>常见异常：</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>Exception</td>
<td>所有异常的基类</td>
</tr>
<tr>
<td>AttributeError</td>
<td>特性应用或赋值失败时引发</td>
</tr>
<tr>
<td>IOError</td>
<td>试图打开不存在的文件时引发</td>
</tr>
<tr>
<td>IndexError</td>
<td>在使用序列中不存在的索引时引发</td>
</tr>
<tr>
<td>KeyError</td>
<td>在使用映射不存在的键时引发</td>
</tr>
<tr>
<td>NameError</td>
<td>在找不到名字（变量）时引发</td>
</tr>
<tr>
<td>SyntaxError</td>
<td>在代码为错误形式时引发</td>
</tr>
<tr>
<td>TypeError</td>
<td>在内建操作或者函数应用于错误类型的对象是引发</td>
</tr>
<tr>
<td>SyntaxError</td>
<td>在内建操作或者函数应用于正确类型的对象，但是该对象使用不合适的值时引发</td>
</tr>
<tr>
<td>ZeroDivisionError</td>
<td>在除法或者模除操作的第二个参数为0时引发</td>
</tr>
</tbody>
</table>
<p><strong>finally语句</strong><br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">try</span>:</span><br><span class="line">    <span class="built_in">open</span>(<span class="string">"ssss"</span>,<span class="string">"r"</span>)</span><br></pre></td></tr></table></figure></p>
<p><strong>指定异常类型 定义异常变量</strong><br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">except :</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"捕获到异常"</span>)</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"-"</span><span class="number">*10</span>)</span><br><span class="line">finally:</span><br><span class="line">    <span class="builtin-name">print</span>(<span class="string">"一定执行的语句"</span>)</span><br></pre></td></tr></table></figure></p>
<p><strong>else应用</strong><br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">num</span> = <span class="number">100</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">num</span>)</span><br><span class="line">except NameError <span class="keyword">as</span> errorMsg:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'产生错误了:%s'</span>%errorMsg)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'没有捕获到异常，真高兴'</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'我一定会执行的哦'</span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="33-类"><a href="#33-类" class="headerlink" title="33.类"></a>33.类</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#属性列表</span></span><br><span class="line">    <span class="comment">#公有属性</span></span><br><span class="line">    name = <span class="string">"AB"</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#私有属性,私有属性是不能够在类外通过对象名来进行访问的</span></span><br><span class="line">    __age = <span class="number">20</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#在类中定义的方法至少会有一个参数，，一般以名为self的变量作为该参数，而且需要作为第一个参数。</span></span><br><span class="line">    <span class="comment">#公有方法列表</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getName</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        print(<span class="keyword">self</span>.name)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#私有方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getAge</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        print(<span class="keyword">self</span>.__age)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#def get():报错</span></span><br><span class="line">    <span class="comment">#print("无参数方法")</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#构造器方法:在创建对象后执行</span></span><br><span class="line">    <span class="comment">#def __init__():</span></span><br><span class="line">    <span class="comment">#self.name = "QWE"</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#传递参数的构造器方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>,name)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line"></span><br><span class="line">    <span class="comment">#析构方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__del__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        print(<span class="string">"析构方法被调用"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建对象</span></span><br><span class="line">p = Person(<span class="string">"zhangsan"</span>)</span><br><span class="line">print(p.name)</span><br><span class="line">p.getName()</span><br></pre></td></tr></table></figure>
<h4 id="34-继承"><a href="#34-继承" class="headerlink" title="34.继承"></a>34.继承</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="title">Person</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setName</span><span class="params">(<span class="keyword">self</span>,name)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        print(<span class="string">"学生的姓名是"</span>,<span class="keyword">self</span>.name)</span><br><span class="line"></span><br><span class="line">stu = Student(<span class="string">"zhangsan"</span>)</span><br><span class="line">stu.setName(<span class="string">"李四"</span>)</span><br><span class="line">stu.print()</span><br></pre></td></tr></table></figure>
<p>python中是可以多继承的。父类中的方法、属性，子类会继承。<br>多继承:<code>class HighStudent(Student,Worker)</code><br>假设A,B中都有方法test()<br>若C继承A与B，<code>class C(A,B)</code>，则调用A中的方法。<br>若C继承A与B，<code>class C(B,A)</code>，则调用B中的方法。<br>若C继承A与B，<code>class C(A,B)</code>，且C中也有test()方法，则调用C中重写的方法。</p>
<h4 id="35-重写"><a href="#35-重写" class="headerlink" title="35.重写"></a>35.重写</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ani</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"调用Ani的方法"</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span><span class="params">(Ani)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"调用Dog的方法"</span>)</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">dog = Dog()</span><br><span class="line">dog.print() <span class="comment">#调用自己的方法</span></span><br></pre></td></tr></table></figure>
<h4 id="36-多态"><a href="#36-多态" class="headerlink" title="36.多态"></a>36.多态</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A1</span><span class="params">(A)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"A1"</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A2</span><span class="params">(A)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"A2"</span>)</span><br><span class="line"></span><br><span class="line">a1 = A1()</span><br><span class="line">a2 = A2()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">showFunc</span><span class="params">(a)</span>:</span></span><br><span class="line">    a.show()</span><br><span class="line">		</span><br><span class="line">showFunc(a1)</span><br><span class="line">showFunc(a2)</span><br></pre></td></tr></table></figure>
<h4 id="37-类属性"><a href="#37-类属性" class="headerlink" title="37.类属性"></a>37.类属性</h4><p>类属性就是类对象所拥有的属性，它被所有类对象的实例对象所共有，内存中只存在一个副本，对于公有的类属性，在类外可以通过类对象和实例对象访问。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class <span class="selector-tag">object</span>:</span><br><span class="line">    name = <span class="string">"object"</span></span><br><span class="line"></span><br><span class="line">obj1 = object()</span><br><span class="line">obj2 = object()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(obj1.name)</span></span> #实例没有name,会查找类的name,结果:object</span><br><span class="line"><span class="selector-tag">object</span><span class="selector-class">.name</span> = <span class="string">"lisi"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(obj2.name)</span></span> #显示 lisi</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(obj1.name)</span></span> #显示 lisi</span><br></pre></td></tr></table></figure>
<p><strong>给实例obj1增加实例属性</strong><br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">obj1<span class="selector-class">.name</span> = <span class="string">"ads"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(obj1.name)</span></span> #屏蔽掉类属性,显示ads</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(object.name)</span></span> #显示 lisi</span><br></pre></td></tr></table></figure></p>
<p>结论:<br>相同名称的实例属性将屏蔽掉类属性。<br>但是当你删除实例属性后，再使用相同的名称，访问到的将是类属性。<br>Python是动态语言，可以动态增加属性。<br>想要修改类属性，如果在类外，可以通过类对象修改，如果在类里面，只有在类方法中进行修改。</p>
<h4 id="38-类方法"><a href="#38-类方法" class="headerlink" title="38.类方法"></a>38.类方法</h4><p>是类对象所拥有的方法，需要用修饰器@classmethod来标识其为类方法<br>对于类方法，第一个参数必须是类对象，一般以cls作为第一个参数。<br>当然可以用其他名称的变量作为其第一个参数。<br>但是大部分人都习惯以’cls’作为第一个参数的名字，就最好用’cls’了，能够通过实例对象和类对象去访问。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">people</span>:</span></span><br><span class="line">    country = <span class="string">'china'</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#类方法，用classmethod来进行修饰</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getCountry</span><span class="params">(cls)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> cls.country</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span>:</span></span><br><span class="line">    <span class="comment">#类属性</span></span><br><span class="line">    price = <span class="string">"1000"</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">#类方法</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getPrice</span><span class="params">(cls,price)</span>:</span></span><br><span class="line">        cls.price = price</span><br><span class="line">        <span class="keyword">return</span> cls.price</span><br><span class="line"></span><br><span class="line">car1 = Car()</span><br><span class="line">print(car1.getPrice(<span class="number">200</span>))</span><br></pre></td></tr></table></figure></p>
<h4 id="39-静态方法"><a href="#39-静态方法" class="headerlink" title="39.静态方法"></a>39.静态方法</h4><p>通过修饰器@staticmethod来进行修饰，静态方法不需要多定义参数。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></span><br><span class="line">    name = <span class="string">"Tom"</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="comment">#静态方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getName</span><span class="params">()</span>:</span></span><br><span class="line">        print(Cat.name)</span><br><span class="line"></span><br><span class="line">Cat.getName()</span><br></pre></td></tr></table></figure></p>
<h4 id="40-爬取数据"><a href="#40-爬取数据" class="headerlink" title="40.爬取数据"></a>40.爬取数据</h4><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">response = urllib.request.urlopen(<span class="string">"http://acm.hit.edu.cn"</span>)</span><br><span class="line">html = response.read()</span><br><span class="line"><span class="comment">#中文转码</span></span><br><span class="line">htmlC = html.decode(<span class="string">"utf-8"</span>)</span><br><span class="line">print(htmlC)</span><br><span class="line"></span><br><span class="line"><span class="comment">#将网页存入文本</span></span><br><span class="line">f = open(<span class="string">"t.html"</span>,<span class="string">"wb"</span>)<span class="comment">#python是types格式，得用二进制读写. </span></span><br><span class="line">f.write(html) <span class="comment">#写入原始文件,不需要解码</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<p><strong>get参数拼接</strong><br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;&#125;</span><br><span class="line">query[<span class="string">"key"</span>] = <span class="string">"python3"</span></span><br><span class="line">queryURL = urllib.parse.urlencode(query) <span class="comment">#得到key=python3</span></span><br><span class="line">url = <span class="string">"http://chenyalun.com/s?"</span> + queryURL</span><br><span class="line">print(url)</span><br></pre></td></tr></table></figure></p>
<h4 id="40-使用BeautifulSoup"><a href="#40-使用BeautifulSoup" class="headerlink" title="40.使用BeautifulSoup"></a>40.使用BeautifulSoup</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">html = <span class="string">""</span><span class="string">"&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;</span></span><br><span class="line"><span class="string">    &lt;body&gt;</span></span><br><span class="line"><span class="string">    &lt;p class="</span>title<span class="string">" name="</span>dromouse<span class="string">"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;p class="</span>story<span class="string">"&gt;Once upon a time there were three little sisters; and their names were</span></span><br><span class="line"><span class="string">    &lt;a href="</span>http://example.com/elsie<span class="string">" class="</span>sister<span class="string">" id="</span>link1<span class="string">"&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;,</span></span><br><span class="line"><span class="string">    &lt;a href="</span>http://example.com/lacie<span class="string">" class="</span>sister<span class="string">" id="</span>link2<span class="string">"&gt;Lacie&lt;/a&gt; and</span></span><br><span class="line"><span class="string">    &lt;a href="</span>http://example.com/tillie<span class="string">" class="</span>sister<span class="string">" id="</span>link3<span class="string">"&gt;Tillie&lt;/a&gt;;</span></span><br><span class="line"><span class="string">    and they lived at the bottom of a well.&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;p class="</span>story<span class="string">"&gt;...&lt;/p&gt;</span></span><br><span class="line"><span class="string">    "</span><span class="string">""</span></span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">soup = BeautifulSoup(html)</span><br><span class="line"><span class="built_in">print</span>(soup.prettify())</span><br><span class="line"></span><br><span class="line"><span class="comment">#打印标签</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"标题是:"</span>,soup.title)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"头部是"</span>,soup.head)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"第一个a标签"</span>,soup.a)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"第一个p标签"</span>,soup.p)</span><br><span class="line"></span><br><span class="line"><span class="comment">#它查找的是在所有内容中的第一个符合要求的标签</span></span><br><span class="line"><span class="comment">#标签的两个重要的属性:name 和 attrs</span></span><br><span class="line"><span class="built_in">print</span>(soup.a.name)</span><br><span class="line"><span class="built_in">print</span>(soup.p.attrs)</span><br><span class="line"><span class="comment">#属性的值</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"属性的值"</span>,soup.p.attrs[<span class="string">"name"</span>]) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">"属性的值"</span>,soup.p[<span class="string">"name"</span>])<span class="comment">#attrs可以省略</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#用 .string获取文字</span></span><br><span class="line"><span class="built_in">print</span>(soup.p.string)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#利用"CSS选择器"查找标签</span></span><br><span class="line"><span class="comment">#通过标签名查找</span></span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">"title"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#通过类名查找</span></span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">".sister"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#通过id查找</span></span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">"#link1"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#组合查找</span></span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">"p #link1"</span>)) <span class="comment">#格式同CSS</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#直接子标签查找</span></span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">"head &gt; title"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#属性查找</span></span><br><span class="line"><span class="comment">#属性需要用中括号括起来，注意属性和标签属于同一节点，所以中间不能加空格</span></span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">'a[class="sister"]'</span>))</span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">'a[href="http://example.com/elsie"]'</span>))</span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">'p a[href="http://example.com/elsie"]'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># select 方法返回的结果都是列表形式，可以遍历形式输出，然后用 get_text() 方法来获取它的内容</span></span><br><span class="line"><span class="keyword">for</span> title <span class="keyword">in</span> soup.select(<span class="string">"title"</span>):</span><br><span class="line">    <span class="built_in">print</span>(title.get_text)</span><br></pre></td></tr></table></figure>

      </div>
      
      <footer class="post-footer">
        <div class="post-tags">
            <a href="/tags/笔记/">笔记</a>
            <a href="/tags/Python/">Python</a>
            </div>
        
        <nav class="post-nav"><a class="prev" href="/2017/02/20/Git:LLDB:Linux等常用命令/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Git/LLDB/Linux等常用命令</span>
        <span class="prev-text nav-mobile">上一篇</span>
      </a>
    <a class="next" href="/2016/10/28/泛读博客笔记/">
        <span class="next-text nav-default">泛读博客笔记</span>
        <span class="prev-text nav-mobile">下一篇</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></footer>
    </article></div><div class="comments" id="comments"></div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="https://github.com/ChenYalun" class="iconfont icon-github" title="github"></a>
        <a href="https://weibo.com/icqk" class="iconfont icon-weibo" title="weibo"></a>
        </div><div class="copyright">
  <span class="power-by">
    May Be 
  </span>
  <span class="division"> </span>
  <span class="theme-info">
    Better
    <a class="theme-link" href> </a>
  </span>

  <span class="copyright-year">&copy;2016 - 2020<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Ya</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>
